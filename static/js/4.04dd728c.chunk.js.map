{"version":3,"sources":["Components/common/FormsControls/FormsControls.jsx","Components/common/FormsControls/FormsControls.module.css","utils/validators/validators.js","hoc/withAuthRedirect.js","../node_modules/@babel/runtime/helpers/esm/slicedToArray.js","../node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js","../node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js","../node_modules/@babel/runtime/helpers/esm/nonIterableRest.js","Components/Profile/Profile.module.css","Components/Profile/MyPosts/MyPosts.module.css","Components/Profile/MyPosts/Post/Post.module.css","Components/Profile/ProfileInfo/ProfileInfo.module.css","Components/Profile/MyPosts/Post/Post.jsx","Components/Profile/MyPosts/MyPostsForm.jsx","Components/Profile/MyPosts/MyPosts.jsx","Components/Profile/MyPosts/MyPostsContainer.jsx","Components/Profile/ProfileInfo/ProfileStatusWithHooks.jsx","Components/Profile/ProfileInfo/ProfileInfo.jsx","Components/Profile/Profile.jsx","Components/Profile/ProfileContainer.jsx"],"names":["FormControl","input","meta","props","child","element","hasError","touched","error","className","s","formControl","children","Textarea","restProps","Input","module","exports","required","value","maxLengthCreator","maxLength","length","mapStateToPropsRedirect","state","isAuth","auth","WithAuthRedirect","Component","RedirectComponent","this","to","React","connect","_slicedToArray","arr","i","Array","isArray","Symbol","iterator","Object","prototype","toString","call","_arr","_n","_d","_e","undefined","_s","_i","next","done","push","err","TypeError","Post","item","src","alt","message","min","max","rand","Math","random","round","randomInteger","AddNewPostFormRedux","reduxForm","form","onSubmit","handleSubmit","Field","component","name","placeholder","validate","MyPosts","memo","postsElements","profilePage","postData","map","p","post","id","postsArea","onAddPost","newPostText","posts","mapDispatchToProps","MyPostsContainer","ProfileStatusWithHooks","useState","editMode","setEditMode","status","setStatus","useEffect","onDoubleClick","onChange","e","currentTarget","onBlur","updateStatus","autoFocus","ProfileInfo","profile","descriptionBlock","photos","large","fullName","lookingForAJobDescription","toggleLoader","Profile","content","ProfileContainer","userId","match","params","authorisedUserId","history","getProfile","getStatus","compose","withRouter"],"mappings":"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","file":"static/js/4.04dd728c.chunk.js","sourcesContent":["import React from 'react'\r\nimport s from './FormsControls.module.css'\r\n\r\nconst FormControl = ({input, meta, child, element, ...props}) => {\r\n    const hasError = meta.touched && meta.error\r\n    return (\r\n        <div className={s.formControl + ' ' + (hasError ? s.error : '')}>\r\n            <div>\r\n                {props.children}  \r\n            </div>\r\n            {hasError && <span>{meta.error}</span>}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport const Textarea = (props) => {\r\n    const {input, meta, child, ...restProps} = props\r\n    return <FormControl {...props}><textarea {...input} {...restProps}/></FormControl>\r\n}\r\n\r\nexport const Input = (props) => {\r\n    const {input, meta, child, ...restProps} = props\r\n    return <FormControl {...props}><input {...input} {...restProps}/></FormControl>\r\n}\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"formControl\":\"FormsControls_formControl__1nzQ6\",\"error\":\"FormsControls_error__2Efp-\"};","export const required = value => {\r\n    if(value) return undefined\r\n    return 'Field is required'\r\n}\r\n\r\nexport const maxLengthCreator = (maxLength) => {\r\n    return (value) => {\r\n    if(value.length > maxLength) return `Max length is ${maxLength} symbols`\r\n    return undefined \r\n     }\r\n }\r\n","import React from 'react'\r\nimport { Redirect } from 'react-router-dom'\r\nimport { connect } from 'react-redux'\r\n\r\nlet mapStateToPropsRedirect = (state) => {\r\n    return {\r\n      isAuth: state.auth.isAuth\r\n    }\r\n  }\r\n\r\nexport const WithAuthRedirect = (Component) => {\r\n    class RedirectComponent extends React.Component {\r\n        render() {\r\n            if(!this.props.isAuth) return <Redirect to={'/login'} />\r\n            return <Component {...this.props}/>\r\n        }\r\n    }\r\n\r\n    let ConnectwithRedirectComponent = connect(mapStateToPropsRedirect)(RedirectComponent)\r\n\r\n    return ConnectwithRedirectComponent\r\n}","import arrayWithHoles from \"./arrayWithHoles\";\nimport iterableToArrayLimit from \"./iterableToArrayLimit\";\nimport nonIterableRest from \"./nonIterableRest\";\nexport default function _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || nonIterableRest();\n}","export default function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}","export default function _iterableToArrayLimit(arr, i) {\n  if (!(Symbol.iterator in Object(arr) || Object.prototype.toString.call(arr) === \"[object Arguments]\")) {\n    return;\n  }\n\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}","export default function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"content\":\"Profile_content__3-H5Z\",\"item\":\"Profile_item__IG6-d\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"content\":\"MyPosts_content__1XTKS\",\"item\":\"MyPosts_item__3DkZq\",\"postsArea\":\"MyPosts_postsArea__39i1h\",\"posts\":\"MyPosts_posts__1QIEm\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"content\":\"Post_content__2lxYV\",\"item\":\"Post_item__WEA5X\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"descriptionBlock\":\"ProfileInfo_descriptionBlock__2sLo1\",\"toggleLoader\":\"ProfileInfo_toggleLoader__x4QS0\"};","import React from 'react'\r\nimport s from './Post.module.css'\r\n\r\nfunction randomInteger(min, max) {\r\n  let rand = min + Math.random() * (max - min);\r\n  return Math.round(rand);\r\n}\r\n\r\nconst Post = props => {\r\n    return (\r\n          <div>\r\n            <div className={s.item}>\r\n              <div><img src='https://sun1-20.userapi.com/h_A94i1wqiwgzB9lYAKmozthon2TOK0FFELXKA/niOkBfdhZ5o.jpg' alt='ava'></img></div>\r\n              {props.message}\r\n              <div> Like {randomInteger(1, 9)}</div>\r\n            </div>\r\n          </div>\r\n    )\r\n}\r\n\r\nexport default Post","import React from 'react'\r\nimport { Field, reduxForm } from 'redux-form'\r\nimport { required, maxLengthCreator } from './../../../utils/validators/validators'\r\nimport { Textarea } from './../../common/FormsControls/FormsControls'\r\n\r\nlet maxLength = maxLengthCreator(20)\r\n\r\nconst AddNewPostForm = props => {\r\n  return (\r\n    <form onSubmit={props.handleSubmit}>\r\n    <Field component={Textarea} name={'newPostText'} placeholder={'Add Post'} validate={[required, maxLength]}/>\r\n    <div><button>Add Post</button></div>\r\n    </form>\r\n  )\r\n}\r\n\r\nconst AddNewPostFormRedux = reduxForm({form: 'addNewPost'})(AddNewPostForm)\r\n\r\nexport default AddNewPostFormRedux","import React from 'react'\r\nimport s from './MyPosts.module.css'\r\nimport Post from './Post/Post'\r\nimport AddNewPostFormRedux from './MyPostsForm'\r\n\r\nconst MyPosts = React.memo (props => {\r\n  let state = props.profilePage\r\n\r\n  let postsElements = state.postData.map(p => {\r\n    return (\r\n      <Post message={p.post} id={p.id}/>\r\n    )\r\n  })\r\n\r\n  let addNewPost = (value) => {\r\n    props.onAddPost(value.newPostText)\r\n  }\r\n\r\n    return (\r\n        <div className={s.postsArea}>\r\n          My Posts\r\n          <AddNewPostFormRedux onSubmit={addNewPost}/>\r\n          <div className={s.posts}>\r\n          {postsElements}\r\n          </div>\r\n        </div>\r\n    )\r\n}\r\n)\r\n\r\n\r\n\r\nexport default MyPosts","import {onAddPost} from './../../../redux/profileReducer'\r\nimport MyPosts from './MyPosts'\r\nimport { connect } from 'react-redux'\r\n\r\nlet mapStateToProps = (state) => {\r\n  return {\r\n    profilePage: state.profilePage,\r\n  }\r\n}\r\n\r\nlet mapDispatchToProps = {\r\n  onAddPost\r\n}\r\n\r\nconst MyPostsContainer = connect(mapStateToProps, mapDispatchToProps)(MyPosts)\r\n\r\nexport default MyPostsContainer","import React, {useState} from 'react'\r\nimport { useEffect } from 'react'\r\n\r\nconst ProfileStatusWithHooks = props => {\r\n    let [editMode, setEditMode] = useState(false)\r\n    let [status, setStatus] = useState(props.status)\r\n\r\n    useEffect(() => {\r\n        setStatus(props.status)\r\n    }, [props.status])\r\n\r\n    const activateEditMode = () => {\r\n        setEditMode(true)\r\n    }\r\n\r\n    const deactivateEditMode = () => {\r\n        setEditMode(false)\r\n        props.updateStatus(status)\r\n    }\r\n\r\n    const onStatusChange = (e) => {\r\n        setStatus(e.currentTarget.value)\r\n    }\r\n        return (\r\n            <div>\r\n                {!editMode &&\r\n                <div>\r\n                    <span onDoubleClick={activateEditMode}>{props.status || 'My Status'}</span>\r\n                </div>\r\n                }\r\n                {editMode && \r\n                    <div>\r\n                        <input onChange={onStatusChange} onBlur={deactivateEditMode} autoFocus={true} value={status}></input>\r\n                    </div>\r\n                }\r\n            </div>\r\n        )\r\n}\r\n\r\nexport default ProfileStatusWithHooks","import React from 'react'\r\nimport s from './ProfileInfo.module.css'\r\nimport ProfileStatusWithHooks from './ProfileStatusWithHooks'\r\n\r\nconst ProfileInfo = props => {\r\n    if(!props.profile) {\r\n        return <img src='https://брайтфит.рф/style/images/i-loader.png' alt='sd' className={s.toggleLoader}/>\r\n    }\r\n    return (\r\n        <div>\r\n        <div>\r\n        <img src='http://blog.centimetre.com/wp-content/uploads/2018/01/2-verri%C3%A8res-loft-indus.jpg' alt='back'/>\r\n        </div>\r\n        <div className={s.descriptionBlock}>\r\n            <img src={props.profile.photos.large ? props.profile.photos.large : 'https://sun9-29.userapi.com/c845019/v845019139/49571/mhdxvl1yjDE.jpg'} alt='img'/>\r\n            <div>{props.profile.fullName ? props.profile.fullName : 'Name'}</div>\r\n            <div>{props.profile.lookingForAJobDescription ? props.profile.lookingForAJobDescription : 'Looking for a Job'}</div>\r\n            <ProfileStatusWithHooks status={props.status} updateStatus={props.updateStatus}/>\r\n        </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ProfileInfo","import React from 'react'\r\nimport s from './Profile.module.css'\r\nimport MyPostsContainer from './MyPosts/MyPostsContainer'\r\nimport ProfileInfo from './ProfileInfo/ProfileInfo'\r\n\r\nconst Profile = props => {\r\n    return (\r\n        <div className={s.content}>\r\n        <ProfileInfo profile={props.profile} status={props.status} updateStatus={props.updateStatus}/>\r\n        <MyPostsContainer />\r\n      </div>\r\n    )\r\n}\r\n\r\nexport default Profile","import React from 'react'\r\nimport Profile from './Profile'\r\nimport {getProfile, getStatus, updateStatus} from './../../redux/profileReducer'\r\nimport { connect } from 'react-redux'\r\nimport { withRouter } from 'react-router-dom'\r\nimport { WithAuthRedirect } from '../../hoc/withAuthRedirect'\r\nimport { compose } from 'redux'\r\n\r\nclass ProfileContainer extends React.Component {\r\n    componentDidMount() {\r\n      let userId = this.props.match.params.userId\r\n      if(!userId) {\r\n        userId = this.props.authorisedUserId\r\n        if(!userId) {\r\n          this.props.history.push('/login')\r\n        }\r\n      }\r\n      this.props.getProfile(userId)\r\n      this.props.getStatus(userId)\r\n    }\r\n\r\n    render () {\r\n      return (\r\n        <Profile {...this.props} profile={this.props.profile} status={this.props.status} updateStatus={this.props.updateStatus}/>\r\n    )\r\n    }\r\n}\r\n\r\nlet mapStateToProps = (state) => {\r\n  return {\r\n    profile: state.profilePage.profile,\r\n    status: state.profilePage.status,\r\n    authorisedUserId: state.auth.id,\r\n    isAuth: state.auth.isAuth\r\n  }\r\n}\r\n\r\nlet mapDispatchToProps = {\r\n  getProfile,\r\n  getStatus,\r\n  updateStatus\r\n}\r\n\r\nexport default compose(\r\n  connect(mapStateToProps, mapDispatchToProps),\r\n  withRouter,\r\n  WithAuthRedirect\r\n)(ProfileContainer)"],"sourceRoot":""}