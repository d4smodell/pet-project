{"version":3,"sources":["Components/common/FormsControls/FormsControls.jsx","Components/common/FormsControls/FormsControls.module.css","utils/validators/validators.js","hoc/withAuthRedirect.js","../node_modules/@babel/runtime/helpers/esm/slicedToArray.js","../node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js","../node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js","../node_modules/@babel/runtime/helpers/esm/nonIterableRest.js","Components/Profile/MyPosts/MyPosts.module.css","Components/Profile/ProfileInfo/ProfileInfo.module.css","Components/Profile/Profile.module.css","Components/Profile/MyPosts/Post/Post.module.css","Components/Profile/MyPosts/Post/Post.jsx","Components/Profile/MyPosts/MyPostsForm.jsx","Components/Profile/MyPosts/MyPosts.jsx","Components/Profile/MyPosts/MyPostsContainer.jsx","Components/Profile/ProfileInfo/ProfileStatusWithHooks.jsx","Components/Profile/ProfileInfo/ProfileInfo.jsx","Components/Profile/Profile.jsx","Components/Profile/ProfileContainer.jsx"],"names":["FormControl","input","meta","props","child","element","hasError","touched","error","className","s","formControl","children","Textarea","restProps","Input","module","exports","required","value","maxLengthCreator","maxLength","length","mapStateToPropsRedirect","state","isAuth","auth","WithAuthRedirect","Component","RedirectComponent","this","to","React","connect","_slicedToArray","arr","i","Array","isArray","Symbol","iterator","Object","prototype","toString","call","_arr","_n","_d","_e","undefined","_s","_i","next","done","push","err","TypeError","Post","item","src","alt","message","min","max","rand","Math","random","round","randomInteger","AddNewPostFormRedux","reduxForm","form","onSubmit","handleSubmit","postForm","Field","component","name","placeholder","validate","MyPosts","memo","postsElements","profilePage","postData","map","p","post","id","postsArea","onAddPost","newPostText","posts","mapDispatchToProps","MyPostsContainer","ProfileStatusWithHooks","useState","editMode","setEditMode","status","setStatus","useEffect","statusText","onDoubleClick","onChange","e","currentTarget","onBlur","updateStatus","autoFocus","ProfileInfo","profile","toggleLoader","descriptionBlock","photos","small","large","loadImg","isOwner","type","target","files","savePhoto","loginText","fullName","lookingForAJob","lookingForAJobDescription","Profile","content","ProfileContainer","userId","match","params","authorisedUserId","history","getProfile","getStatus","refreshProfile","prevProps","prevState","snapShot","compose","withRouter"],"mappings":"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","file":"static/js/4.86dd0cc5.chunk.js","sourcesContent":["import React from 'react'\r\nimport s from './FormsControls.module.css'\r\n\r\nconst FormControl = ({input, meta, child, element, ...props}) => {\r\n    const hasError = meta.touched && meta.error\r\n    return (\r\n        <div className={s.formControl + ' ' + (hasError ? s.error : '')}>\r\n            <div>\r\n                {props.children}  \r\n            </div>\r\n            {hasError && <span>{meta.error}</span>}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport const Textarea = (props) => {\r\n    const {input, meta, child, ...restProps} = props\r\n    return <FormControl {...props}><textarea {...input} {...restProps}/></FormControl>\r\n}\r\n\r\nexport const Input = (props) => {\r\n    const {input, meta, child, ...restProps} = props\r\n    return <FormControl {...props}><input {...input} {...restProps}/></FormControl>\r\n}\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"formControl\":\"FormsControls_formControl__1nzQ6\",\"error\":\"FormsControls_error__2Efp-\"};","export const required = value => {\r\n    if(value) return undefined\r\n    return 'Field is required'\r\n}\r\n\r\nexport const maxLengthCreator = (maxLength) => {\r\n    return (value) => {\r\n    if(value.length > maxLength) return `Max length is ${maxLength} symbols`\r\n    return undefined \r\n     }\r\n }\r\n","import React from 'react'\r\nimport { Redirect } from 'react-router-dom'\r\nimport { connect } from 'react-redux'\r\n\r\nlet mapStateToPropsRedirect = (state) => {\r\n    return {\r\n      isAuth: state.auth.isAuth\r\n    }\r\n  }\r\n\r\nexport const WithAuthRedirect = (Component) => {\r\n    class RedirectComponent extends React.Component {\r\n        render() {\r\n            if(!this.props.isAuth) return <Redirect to={'/login'} />\r\n            return <Component {...this.props}/>\r\n        }\r\n    }\r\n\r\n    let ConnectwithRedirectComponent = connect(mapStateToPropsRedirect)(RedirectComponent)\r\n\r\n    return ConnectwithRedirectComponent\r\n}","import arrayWithHoles from \"./arrayWithHoles\";\nimport iterableToArrayLimit from \"./iterableToArrayLimit\";\nimport nonIterableRest from \"./nonIterableRest\";\nexport default function _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || nonIterableRest();\n}","export default function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}","export default function _iterableToArrayLimit(arr, i) {\n  if (!(Symbol.iterator in Object(arr) || Object.prototype.toString.call(arr) === \"[object Arguments]\")) {\n    return;\n  }\n\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}","export default function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"content\":\"MyPosts_content__1XTKS\",\"item\":\"MyPosts_item__3DkZq\",\"postsArea\":\"MyPosts_postsArea__39i1h\",\"posts\":\"MyPosts_posts__1QIEm\",\"postForm\":\"MyPosts_postForm__3UqP_\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"descriptionBlock\":\"ProfileInfo_descriptionBlock__2sLo1\",\"toggleLoader\":\"ProfileInfo_toggleLoader__x4QS0\",\"statusText\":\"ProfileInfo_statusText__38G9m\",\"lookingForAJob\":\"ProfileInfo_lookingForAJob__3pI0U\",\"loginText\":\"ProfileInfo_loginText__7Y5Is\",\"loadImg\":\"ProfileInfo_loadImg__3o4WS\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"content\":\"Profile_content__3-H5Z\",\"item\":\"Profile_item__IG6-d\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"content\":\"Post_content__2lxYV\",\"item\":\"Post_item__WEA5X\"};","import React from 'react'\r\nimport s from './Post.module.css'\r\n\r\nfunction randomInteger(min, max) {\r\n  let rand = min + Math.random() * (max - min);\r\n  return Math.round(rand);\r\n}\r\n\r\nconst Post = props => {\r\n    return (\r\n          <div>\r\n            <div className={s.item}>\r\n              <div><img src='https://sun1-20.userapi.com/h_A94i1wqiwgzB9lYAKmozthon2TOK0FFELXKA/niOkBfdhZ5o.jpg' alt='ava'></img></div>\r\n              {props.message}\r\n              <div> Like {randomInteger(1, 9)}</div>\r\n            </div>\r\n          </div>\r\n    )\r\n}\r\n\r\nexport default Post","import React from 'react'\r\nimport { Field, reduxForm } from 'redux-form'\r\nimport { required, maxLengthCreator } from './../../../utils/validators/validators'\r\nimport { Textarea } from './../../common/FormsControls/FormsControls'\r\nimport s from './MyPosts.module.css'\r\n\r\nlet maxLength = maxLengthCreator(20)\r\n\r\nconst AddNewPostForm = props => {\r\n  return (\r\n    <form onSubmit={props.handleSubmit} className={s.postForm}>\r\n    <Field component={Textarea} name={'newPostText'} placeholder={'Add Post'} validate={[required, maxLength]}/>\r\n    <div><button>Add Post</button></div>\r\n    </form>\r\n  )\r\n}\r\n\r\nconst AddNewPostFormRedux = reduxForm({form: 'addNewPost'})(AddNewPostForm)\r\n\r\nexport default AddNewPostFormRedux","import React from 'react'\r\nimport s from './MyPosts.module.css'\r\nimport Post from './Post/Post'\r\nimport AddNewPostFormRedux from './MyPostsForm'\r\n\r\nconst MyPosts = React.memo (props => {\r\n  let state = props.profilePage\r\n\r\n  let postsElements = state.postData.map(p => {\r\n    return (\r\n      <Post message={p.post} id={p.id}/>\r\n    )\r\n  })\r\n\r\n  let addNewPost = (value) => {\r\n    props.onAddPost(value.newPostText)\r\n  }\r\n\r\n    return (\r\n        <div className={s.postsArea}>\r\n          <span>My Posts</span>\r\n          <AddNewPostFormRedux onSubmit={addNewPost}/>\r\n          <div className={s.posts}>\r\n          {postsElements}\r\n          </div>\r\n        </div>\r\n    )\r\n}\r\n)\r\n\r\n\r\n\r\nexport default MyPosts","import {onAddPost} from './../../../redux/profileReducer'\r\nimport MyPosts from './MyPosts'\r\nimport { connect } from 'react-redux'\r\n\r\nlet mapStateToProps = (state) => {\r\n  return {\r\n    profilePage: state.profilePage,\r\n  }\r\n}\r\n\r\nlet mapDispatchToProps = {\r\n  onAddPost\r\n}\r\n\r\nconst MyPostsContainer = connect(mapStateToProps, mapDispatchToProps)(MyPosts)\r\n\r\nexport default MyPostsContainer","import React, {useState} from 'react'\r\nimport { useEffect } from 'react'\r\nimport s from './ProfileInfo.module.css'\r\n\r\nconst ProfileStatusWithHooks = props => {\r\n    let [editMode, setEditMode] = useState(false)\r\n    let [status, setStatus] = useState(props.status)\r\n\r\n    useEffect(() => {\r\n        setStatus(props.status)\r\n    }, [props.status])\r\n\r\n    const activateEditMode = () => {\r\n        setEditMode(true)\r\n    }\r\n\r\n    const deactivateEditMode = () => {\r\n        setEditMode(false)\r\n        props.updateStatus(status)\r\n    }\r\n\r\n    const onStatusChange = (e) => {\r\n        setStatus(e.currentTarget.value)\r\n    }\r\n        return (\r\n            <div>\r\n                {!editMode &&\r\n                <div className={s.statusText}>\r\n                    <span onDoubleClick={activateEditMode}>{props.status || 'My Status'}</span>\r\n                </div>\r\n                }\r\n                {editMode && \r\n                    <div>\r\n                        <input onChange={onStatusChange} onBlur={deactivateEditMode} autoFocus={true} value={status}></input>\r\n                    </div>\r\n                }\r\n            </div>\r\n        )\r\n}\r\n\r\nexport default ProfileStatusWithHooks","import React from 'react'\r\nimport s from './ProfileInfo.module.css'\r\nimport ProfileStatusWithHooks from './ProfileStatusWithHooks'\r\n\r\nconst ProfileInfo = props => {\r\n    if(!props.profile) {\r\n        return <img src='https://брайтфит.рф/style/images/i-loader.png' alt='sd' className={s.toggleLoader}/>\r\n    }\r\n    const onMainPhotoSelected = (e) => {\r\n        if(e.target.files.length) {\r\n            props.savePhoto(e.target.files[0])\r\n        }\r\n    }\r\n    return (\r\n        <div>\r\n        <div>\r\n        <img src='http://blog.centimetre.com/wp-content/uploads/2018/01/2-verri%C3%A8res-loft-indus.jpg' alt='back'/>\r\n        </div>\r\n        <div className={s.descriptionBlock}>\r\n            <img src={props.profile.photos.small ? props.profile.photos.large : 'https://upload.wikimedia.org/wikipedia/commons/thumb/7/7e/Circle-icons-profile.svg/768px-Circle-icons-profile.svg.png'} alt='img'/>\r\n            <div className={s.loadImg}>{props.isOwner && <input type={'file'} onChange={onMainPhotoSelected}/>}</div>\r\n            <div className={s.loginText}>{props.profile.fullName ? props.profile.fullName : 'Name'}</div>\r\n            <div className={s.lookingForAJob}>{props.profile.lookingForAJobDescription ? props.profile.lookingForAJobDescription : 'Looking for a Job'}</div>\r\n            <ProfileStatusWithHooks status={props.status} updateStatus={props.updateStatus}/>\r\n        </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ProfileInfo","import React from 'react'\r\nimport s from './Profile.module.css'\r\nimport MyPostsContainer from './MyPosts/MyPostsContainer'\r\nimport ProfileInfo from './ProfileInfo/ProfileInfo'\r\n\r\nconst Profile = props => {\r\n    return (\r\n        <div className={s.content}>\r\n        <ProfileInfo profile={props.profile} status={props.status} updateStatus={props.updateStatus} isOwner={props.isOwner} savePhoto={props.savePhoto}/>\r\n        <MyPostsContainer />\r\n      </div>\r\n    )\r\n}\r\n\r\nexport default Profile","import React from 'react'\r\nimport Profile from './Profile'\r\nimport {getProfile, getStatus, updateStatus, savePhoto} from './../../redux/profileReducer'\r\nimport { connect } from 'react-redux'\r\nimport { withRouter } from 'react-router-dom'\r\nimport { WithAuthRedirect } from '../../hoc/withAuthRedirect'\r\nimport { compose } from 'redux'\r\n\r\nclass ProfileContainer extends React.Component {\r\n    refreshProfile() {\r\n      let userId = this.props.match.params.userId\r\n      if(!userId) {\r\n        userId = this.props.authorisedUserId\r\n        if(!userId) {\r\n          this.props.history.push('/login')\r\n        }\r\n      }\r\n      this.props.getProfile(userId)\r\n      this.props.getStatus(userId)\r\n    }\r\n\r\n    componentDidMount() {\r\n      this.refreshProfile()\r\n    }\r\n\r\n    componentDidUpdate(prevProps, prevState, snapShot) {\r\n      if (this.props.match.params.userId !== prevProps.match.params.userId) {\r\n        this.refreshProfile()\r\n      }\r\n    }\r\n\r\n    render () {\r\n      return (\r\n        <Profile\r\n        {...this.props}\r\n        profile={this.props.profile}\r\n        status={this.props.status}\r\n        updateStatus={this.props.updateStatus}\r\n        isOwner={!this.props.match.params.userId}\r\n        savePhoto={this.props.savePhoto}/>\r\n    )\r\n    }\r\n}\r\n\r\nlet mapStateToProps = (state) => {\r\n  return {\r\n    profile: state.profilePage.profile,\r\n    status: state.profilePage.status,\r\n    authorisedUserId: state.auth.id,\r\n    isAuth: state.auth.isAuth,\r\n  }\r\n}\r\n\r\nlet mapDispatchToProps = {\r\n  getProfile,\r\n  getStatus,\r\n  updateStatus,\r\n  savePhoto\r\n}\r\n\r\n\r\n\r\nexport default compose(\r\n  connect(mapStateToProps, mapDispatchToProps),\r\n  WithAuthRedirect,\r\n  withRouter\r\n)(ProfileContainer)"],"sourceRoot":""}