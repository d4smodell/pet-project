{"version":3,"sources":["Components/common/FormsControls/FormsControls.jsx","utils/validators/validators.js","hoc/withAuthRedirect.js","../node_modules/@babel/runtime/helpers/esm/slicedToArray.js","../node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js","../node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js","../node_modules/@babel/runtime/helpers/esm/nonIterableRest.js","Components/Profile/MyPosts/Post/Post.tsx","Components/Profile/MyPosts/MyPostsForm.jsx","Components/Profile/MyPosts/MyPosts.jsx","Components/Profile/MyPosts/MyPostsContainer.tsx","Components/Profile/ProfileInfo/ProfileStatusWithHooks.tsx","Components/Profile/ProfileInfo/ProfileDataForm.jsx","Components/Profile/ProfileInfo/ProfileInfo.jsx","Components/Profile/Profile.jsx","Components/Profile/ProfileContainer.jsx"],"names":["FormControl","input","meta","props","child","element","hasError","touched","error","className","children","Textarea","restProps","Input","createField","placeholder","name","validators","component","text","validate","required","value","maxLengthCreator","maxLength","length","mapStateToPropsRedirect","state","isAuth","auth","WithAuthRedirect","Component","RedirectComponent","this","to","React","connect","_slicedToArray","arr","i","Array","isArray","Symbol","iterator","Object","prototype","toString","call","_arr","_n","_d","_e","undefined","_s","_i","next","done","push","err","TypeError","Post","message","src","alt","min","max","rand","Math","random","round","randomInteger","AddNewPostFormRedux","reduxForm","form","onSubmit","handleSubmit","Field","MyPosts","memo","postsElements","profilePage","postData","map","p","key","id","post","onAddPost","newPostText","mapDispatchToProps","MyPostsContainer","ProfileStatusWithHooks","useState","editMode","setEditMode","status","setStatus","useEffect","onDoubleClick","onChange","e","currentTarget","onBlur","updateStatus","autoFocus","ProfileDataFormRedux","profile","style","formSummaryError","type","lookingForAJobDescription","keys","contacts","ProfileData","isOwner","goToEditMode","onClick","fullName","lookingForAJob","aboutMe","contactTitle","contactValue","Contact","ProfileInfo","savePhoto","saveProfile","Preloader","photos","small","large","target","files","initialValues","formData","then","Profile","ProfileContainer","userId","match","params","authorisedUserId","history","getProfile","getStatus","refreshProfile","prevProps","prevState","snapShot","compose","withRouter"],"mappings":"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","file":"static/js/4.49db606f.chunk.js","sourcesContent":["import React from 'react'\r\nimport './FormsControls.scss'\r\nimport { Field } from 'redux-form'\r\n\r\nconst FormControl = ({input, meta, child, element, ...props}) => {\r\n    const hasError = meta.touched && meta.error\r\n    return (\r\n        <div className={'formControl' + ' ' + (hasError ? 'error' : '')}>\r\n            <div>\r\n                {props.children}  \r\n            </div>\r\n            {hasError && <span>{meta.error}</span>}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport const Textarea = (props) => {\r\n    const {input, meta, child, ...restProps} = props\r\n    return <FormControl {...props}><textarea {...input} {...restProps}/></FormControl>\r\n}\r\n\r\nexport const Input = (props) => {\r\n    const {input, meta, child, ...restProps} = props\r\n    return <FormControl {...props}><input {...input} {...restProps}/></FormControl>\r\n}\r\n\r\nexport const createField = (placeholder, name, validators, component, props = {}, text = \"\") => (\r\n    <div>\r\n        <Field placeholder={placeholder}\r\n               name={name}\r\n               validate={validators}\r\n               component={component}\r\n               {...props}\r\n               /> {text} \r\n    </div>\r\n)","export const required = value => {\r\n    if(value) return undefined\r\n    return 'Field is required'\r\n}\r\n\r\nexport const maxLengthCreator = (maxLength) => {\r\n    return (value) => {\r\n    if(value.length > maxLength) return `Max length is ${maxLength} symbols`\r\n    return undefined \r\n     }\r\n }\r\n","import React from 'react'\r\nimport { Redirect } from 'react-router-dom'\r\nimport { connect } from 'react-redux'\r\n\r\nlet mapStateToPropsRedirect = (state) => {\r\n    return {\r\n      isAuth: state.auth.isAuth\r\n    }\r\n  }\r\n\r\nexport const WithAuthRedirect = (Component) => {\r\n    class RedirectComponent extends React.Component {\r\n        render() {\r\n            if(!this.props.isAuth) return <Redirect to={'/login'} />\r\n            return <Component {...this.props}/>\r\n        }\r\n    }\r\n\r\n    let ConnectwithRedirectComponent = connect(mapStateToPropsRedirect)(RedirectComponent)\r\n\r\n    return ConnectwithRedirectComponent\r\n}","import arrayWithHoles from \"./arrayWithHoles\";\nimport iterableToArrayLimit from \"./iterableToArrayLimit\";\nimport nonIterableRest from \"./nonIterableRest\";\nexport default function _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || nonIterableRest();\n}","export default function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}","export default function _iterableToArrayLimit(arr, i) {\n  if (!(Symbol.iterator in Object(arr) || Object.prototype.toString.call(arr) === \"[object Arguments]\")) {\n    return;\n  }\n\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}","export default function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n}","import React from 'react'\r\nimport './Post.scss'\r\n\r\nfunction randomInteger(min: number, max: number) {\r\n  let rand = min + Math.random() * (max - min);\r\n  return Math.round(rand);\r\n}\r\n\r\ntype PropsType = {\r\n  message: string\r\n}\r\n\r\nconst Post: React.FC<PropsType> = ({message}) => {\r\n    return (\r\n          <div>\r\n            <div className={'item'}>\r\n              <div><img src='https://sun1-20.userapi.com/h_A94i1wqiwgzB9lYAKmozthon2TOK0FFELXKA/niOkBfdhZ5o.jpg' alt='ava'></img></div>\r\n              {message}\r\n              <div> Like {randomInteger(1, 9)}</div>\r\n            </div>\r\n          </div>\r\n    )\r\n}\r\n\r\nexport default Post","import React from 'react'\r\nimport { Field, reduxForm } from 'redux-form'\r\nimport { required, maxLengthCreator } from '../../../utils/validators/validators'\r\nimport { Textarea } from '../../common/FormsControls/FormsControls'\r\nimport './MyPosts.scss'\r\n\r\nlet maxLength = maxLengthCreator(20)\r\n\r\nconst AddNewPostForm = props => {\r\n  return (\r\n    <form onSubmit={props.handleSubmit} className={'postForm'}>\r\n    <Field component={Textarea} name={'newPostText'} placeholder={'Add Post'} validate={[required, maxLength]}/>\r\n    <div><button>Add Post</button></div>\r\n    </form>\r\n  )\r\n}\r\n\r\nconst AddNewPostFormRedux = reduxForm({form: 'addNewPost'})(AddNewPostForm)\r\n\r\nexport default AddNewPostFormRedux","import React from 'react'\r\nimport './MyPosts.scss'\r\nimport Post from './Post/Post'\r\nimport AddNewPostFormRedux from './MyPostsForm'\r\n\r\nconst MyPosts = React.memo (props => {\r\n  let state = props.profilePage\r\n\r\n  let postsElements = state.postData.map(p => {\r\n    return (\r\n      <Post key={p.id} message={p.post} id={p.id}/>\r\n    )\r\n  })\r\n\r\n  let addNewPost = (value) => {\r\n    props.onAddPost(value.newPostText)\r\n  }\r\n\r\n    return (\r\n        <div className={'postsArea'}>\r\n          <span>My Posts</span>\r\n          <AddNewPostFormRedux onSubmit={addNewPost}/>\r\n          <div className={'posts'}>\r\n          {postsElements}\r\n          </div>\r\n        </div>\r\n    )\r\n}\r\n)\r\n\r\n\r\n\r\nexport default MyPosts","import {onAddPost} from '../../../redux/profileReducer'\r\nimport MyPosts from './MyPosts'\r\nimport { connect } from 'react-redux'\r\nimport { AppStateType } from '../../../redux/redux-store'\r\n\r\ntype MapStateType = {\r\n  profilePage: object\r\n}\r\n\r\ntype MapDispatchType = {\r\n  onAddPost: (newPostText: string) => void\r\n}\r\n\r\nlet mapStateToProps = (state: AppStateType): MapStateType => {\r\n  return {\r\n    profilePage: state.profilePage,\r\n  }\r\n}\r\n\r\nlet mapDispatchToProps: MapDispatchType = {\r\n  onAddPost\r\n}\r\n\r\nconst MyPostsContainer = connect(mapStateToProps, mapDispatchToProps)(MyPosts)\r\n\r\nexport default MyPostsContainer","import React, {useState} from 'react'\r\nimport { useEffect } from 'react'\r\nimport './ProfileInfo.scss'\r\n\r\nconst ProfileStatusWithHooks = (props: any) => {\r\n    let [editMode, setEditMode] = useState(false)\r\n    let [status, setStatus] = useState(props.status)\r\n\r\n    useEffect(() => {\r\n        setStatus(props.status)\r\n    }, [props.status])\r\n\r\n    const activateEditMode = () => {\r\n        setEditMode(true)\r\n    }\r\n\r\n    const deactivateEditMode = () => {\r\n        setEditMode(false)\r\n        props.updateStatus(status)\r\n    }\r\n\r\n    const onStatusChange = (e: any) => {\r\n        setStatus(e.currentTarget.value)\r\n    }\r\n        return (\r\n            <div>\r\n                {!editMode &&\r\n                <div className={'statusText'}>\r\n                    Status: <span onDoubleClick={activateEditMode}>{props.status || 'My Status'}</span>\r\n                </div>\r\n                }\r\n                {editMode && \r\n                    <div>\r\n                        <input onChange={onStatusChange} onBlur={deactivateEditMode} autoFocus={true} value={status}></input>\r\n                    </div>\r\n                }\r\n            </div>\r\n        )\r\n}\r\n\r\nexport default ProfileStatusWithHooks","import React from 'react'\r\nimport { createField, Input, Textarea } from '../../common/FormsControls/FormsControls'\r\nimport { reduxForm } from 'redux-form'\r\nimport './ProfileInfo.scss'\r\nimport style from './../../Login/Login.scss'\r\n\r\nconst ProfileDataForm = ({profile, handleSubmit, error}) => {\r\n    return <form onSubmit={handleSubmit}>\r\n    {error && <div className={style.formSummaryError}>{error}</div>}\r\n    <div><button >Save</button></div>\r\n    <div><span>Full Name:</span> {createField('Name', 'fullName', [], Input)}</div>\r\n    <div><span>Looking for a Job: </span> {createField('', 'lookingForAJob', [], Input, {type: 'checkbox'})}</div>\r\n    <div><span>Professional Skills: </span> {profile.lookingForAJobDescription} {createField('Professional Skills', 'lookingForAJobDescription', [], Textarea)}</div>\r\n    <div><span>About Me:</span> {createField('About Me', 'aboutMe', [], Textarea)}</div>\r\n    <div><span>Contacts:</span> {Object.keys(profile.contacts).map(key => {\r\n        return <div key={key} className={'contact'}>\r\n            <b>{key}: {createField(key, 'contacts.' + key, [], Input)}</b>\r\n        </div>\r\n    })}</div>\r\n</form>\r\n}\r\n\r\nconst ProfileDataFormRedux = reduxForm({form: 'edit-profile'})(ProfileDataForm)\r\n\r\nexport default ProfileDataFormRedux","import React, { useState } from 'react'\r\nimport './ProfileInfo.scss'\r\nimport ProfileStatusWithHooks from './ProfileStatusWithHooks'\r\nimport ProfileDataFormRedux from './ProfileDataForm'\r\nimport Preloader from '../../common/Preloader/Preloader'\r\n\r\nconst ProfileInfo = ({profile, status, updateStatus, isOwner, savePhoto, saveProfile}) => {\r\n    let [editMode, setEditMode] = useState(false)\r\n    if(!profile) {\r\n        return <Preloader className={'toggleLoader'}/>\r\n    }\r\n    const onMainPhotoSelected = (e) => {\r\n        if(e.target.files.length) {\r\n            savePhoto(e.target.files[0])\r\n        }\r\n    }\r\n\r\n    const onSubmit = (formData) => {\r\n        saveProfile(formData).then(() => {\r\n            setEditMode(false) \r\n        })\r\n    }\r\n    return (\r\n        <div>\r\n        <div className={'descriptionBlock'}>\r\n            <img src={profile.photos.small ? profile.photos.large : 'https://upload.wikimedia.org/wikipedia/commons/thumb/7/7e/Circle-icons-profile.svg/768px-Circle-icons-profile.svg.png'} alt='img'/>\r\n            <div className={'loadImg'}>{isOwner && <input type={'file'} onChange={onMainPhotoSelected}/>}</div>\r\n            {editMode ? <ProfileDataFormRedux initialValues={profile} profile={profile} onSubmit={onSubmit}/>\r\n                      : <ProfileData goToEditMode={() => {setEditMode(true)}} profile={profile} isOwner={isOwner}/>}\r\n            <ProfileStatusWithHooks status={status} updateStatus={updateStatus}/>\r\n        </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nconst ProfileData = ({profile, isOwner, goToEditMode}) => {\r\n    return <div>\r\n            {isOwner && <div><button onClick={goToEditMode}>Edit Profile</button></div>}\r\n            <div className={'loginText'}>{profile.fullName ? profile.fullName : 'Name'}</div>\r\n            <div className={'loginArea'}><span>Looking for a Job:</span> {profile.lookingForAJob ? profile.lookingForAJob : 'No'}</div>\r\n            <div className={'loginArea'}><span>Professional Skills:</span> {profile.lookingForAJobDescription ? profile.lookingForAJobDescription : 'No'}</div>\r\n            <div className={'loginArea'}><span>About Me:</span> {profile.aboutMe ? profile.aboutMe : 'None'}</div>\r\n            <div className={'loginArea'}><span>Contacts:</span> {Object.keys(profile.contacts).map(key => {\r\n                return <Contact key={key} contactTitle={key} contactValue={profile.contacts[key]}/>\r\n            })}</div>\r\n    </div>\r\n}\r\n\r\nconst Contact = ({contactTitle, contactValue}) => {\r\nreturn <div className={'contact'}><b>{contactTitle}</b>: {contactValue}</div>\r\n}\r\n\r\nexport default ProfileInfo","import React from 'react'\r\nimport './Profile.scss'\r\nimport MyPostsContainer from './MyPosts/MyPostsContainer'\r\nimport ProfileInfo from './ProfileInfo/ProfileInfo'\r\n\r\nconst Profile = props => {\r\n    return (\r\n        <div className={'content'}>\r\n        <ProfileInfo \r\n        profile={props.profile}\r\n        status={props.status}\r\n        updateStatus={props.updateStatus}\r\n        isOwner={props.isOwner}\r\n        savePhoto={props.savePhoto}\r\n        saveProfile={props.saveProfile}/>\r\n        <MyPostsContainer />\r\n      </div>\r\n    )\r\n}\r\n\r\nexport default Profile","import React from 'react'\r\nimport Profile from './Profile'\r\nimport {getProfile, getStatus, updateStatus, savePhoto, saveProfile} from '../../redux/profileReducer'\r\nimport { connect } from 'react-redux'\r\nimport { withRouter } from 'react-router-dom'\r\nimport { WithAuthRedirect } from '../../hoc/withAuthRedirect'\r\nimport { compose } from 'redux'\r\n\r\nclass ProfileContainer extends React.Component {\r\n    refreshProfile() {\r\n      let userId = this.props.match.params.userId\r\n      if(!userId) {\r\n        userId = this.props.authorisedUserId\r\n        if(!userId) {\r\n          this.props.history.push('/login')\r\n        }\r\n      }\r\n      this.props.getProfile(userId)\r\n      this.props.getStatus(userId)\r\n    }\r\n\r\n    componentDidMount() {\r\n      this.refreshProfile()\r\n    }\r\n\r\n    componentDidUpdate(prevProps, prevState, snapShot) {\r\n      if (this.props.match.params.userId !== prevProps.match.params.userId) {\r\n        this.refreshProfile()\r\n      }\r\n    }\r\n\r\n    render () {\r\n      return (\r\n        <Profile\r\n        {...this.props}\r\n        profile={this.props.profile}\r\n        status={this.props.status}\r\n        updateStatus={this.props.updateStatus}\r\n        isOwner={!this.props.match.params.userId}\r\n        savePhoto={this.props.savePhoto}/>\r\n    )\r\n    }\r\n}\r\n\r\nlet mapStateToProps = (state) => {\r\n  return {\r\n    profile: state.profilePage.profile,\r\n    status: state.profilePage.status,\r\n    authorisedUserId: state.auth.id,\r\n    isAuth: state.auth.isAuth,\r\n  }\r\n}\r\n\r\nlet mapDispatchToProps = {\r\n  getProfile,\r\n  getStatus,\r\n  updateStatus,\r\n  savePhoto,\r\n  saveProfile\r\n}\r\n\r\n\r\n\r\nexport default compose(\r\n  connect(mapStateToProps, mapDispatchToProps),\r\n  WithAuthRedirect,\r\n  withRouter\r\n)(ProfileContainer)"],"sourceRoot":""}